/** @jsxImportSource react */
import React from 'react';

interface HelpModalProps {
    onClose: () => void;
    onLoadSampleData: () => void;
    onClearAllData: () => void;
    onDownloadSampleData: () => void;
}

const HelpModal = ({ onClose, onLoadSampleData, onClearAllData, onDownloadSampleData }: HelpModalProps) => {
    return (
        <div className="modal-backdrop">
            <div className="modal-content" style={{maxWidth: '800px', textAlign: 'left'}}>
                <h2>Hilfe zur Anwendung</h2>
                <div className="help-content" style={{ maxHeight: '70vh', overflowY: 'auto', paddingRight: '1rem' }}>
                    <p>Willkommen bei der Hilfe fÃ¼r Ihre Anwendung zur pÃ¤dagogischen Dokumentation. Hier finden Sie eine ErklÃ¤rung aller wichtigen Funktionen.</p>

                    <h3>1. Aufbau der Anwendung</h3>
                    <p>Die Anwendung ist in mehrere Bereiche aufgeteilt:</p>
                    <ul>
                        <li><strong>Kopfzeile:</strong> Ganz oben finden Sie den Titel der Anwendung.</li>
                        <li><strong>Werkzeugleiste:</strong> Unter der Kopfzeile befindet sich die Leiste mit den Hauptaktionen (z.B. Kind anlegen, Suchen, Exportieren).</li>
                        <li><strong>Navigation (links):</strong> Hier kÃ¶nnen Sie die Anzeige filtern und zwischen Kindern und Tagen wechseln.</li>
                        <li><strong>Hauptbereich (rechts):</strong> Hier werden die ProtokolleintrÃ¤ge fÃ¼r das ausgewÃ¤hlte Kind oder den ausgewÃ¤hlten Tag angezeigt.</li>
                    </ul>

                    <h3>2. Kinder verwalten</h3>
                    <h4>Kind anlegen</h4>
                    <p>Klicken Sie in der Werkzeugleiste auf <code>â• Kind anlegen</code>. Es Ã¶ffnet sich ein Formular, in das Sie alle notwendigen Informationen eintragen kÃ¶nnen.</p>
                    
                    <h4>Kind suchen</h4>
                    <p>Nutzen Sie das Suchfeld in der Werkzeugleiste. Beginnen Sie, den Namen eines Kindes einzutippen, und die Liste in der Navigation wird in Echtzeit gefiltert.</p>
                    
                    <h3>3. EintrÃ¤ge verwalten</h3>
                    <h4>Neuen Eintrag erstellen</h4>
                    <p>WÃ¤hlen Sie zuerst ein Kind aus der Navigationsliste aus. Im Hauptbereich erscheint dann Ã¼ber der Eintragsliste der Button <code>âœ¨ Neuer Eintrag</code>. Ein Klick darauf Ã¶ffnet das Formular zum Erstellen eines neuen Protokolleintrags fÃ¼r dieses Kind.</p>

                    <h4>Eintrag Ã¤ndern oder lÃ¶schen</h4>
                    <p>Klicken Sie auf einen beliebigen Eintrag in der Liste im Hauptbereich, um ihn auszuwÃ¤hlen (er wird mit einem farbigen Rahmen markiert). Sobald ein Eintrag ausgewÃ¤hlt ist, werden die Buttons <code>âœï¸ Eintrag Ã¤ndern</code> und <code>ğŸ—‘ï¸ Eintrag lÃ¶schen</code> in der Werkzeugleiste aktiv.</p>

                    <h3>4. Filtern und Ansichten</h3>
                    <p>Die Navigation auf der linken Seite bietet Ihnen mÃ¤chtige Filterfunktionen:</p>
                    <ul>
                        <li><strong>Schuljahr, Schule, Klasse, Kind:</strong> Diese Dropdown-MenÃ¼s filtern die angezeigte Kinderliste. Sie kÃ¶nnen die Filter kombinieren, um z.B. nur Kinder einer bestimmten Klasse in einem bestimmten Schuljahr zu sehen.</li>
                        <li><strong>Tag:</strong> Wenn Sie hier ein Datum auswÃ¤hlen, wechselt die Anwendung in die "Tagesansicht". Im Hauptbereich sehen Sie dann alle EintrÃ¤ge aller Kinder fÃ¼r den ausgewÃ¤hlten Tag. Um zurÃ¼ck zur Kind-Ansicht zu gelangen, wÃ¤hlen Sie einfach wieder ein Kind aus der Liste aus.</li>
                    </ul>

                    <h3>5. Datenmanagement (Import & Export)</h3>
                    <p>In der Werkzeugleiste finden Sie Buttons zum Sichern und Wiederherstellen Ihrer Daten.</p>
                    <ul>
                        <li><strong>ğŸ“¤ Export:</strong> Erstellt eine vollstÃ¤ndige Sicherung aller Kinder und EintrÃ¤ge in einer <code>.json</code>-Datei und speichert sie auf Ihrem Computer. FÃ¼hren Sie dies regelmÃ¤ÃŸig durch, um Datenverlust zu vermeiden.</li>
                        <li><strong>ğŸ“¥ Import:</strong> LÃ¤dt eine zuvor exportierte <code>.json</code>-Datei. <strong>Achtung:</strong> Beim Import werden alle aktuell in der Anwendung gespeicherten Daten unwiderruflich Ã¼berschrieben!</li>
                    </ul>

                    <h3>6. Einstellungen</h3>
                    <p>Ãœber den Button <code>âš™ï¸ Einstellungen</code> in der Navigation kÃ¶nnen Sie das Erscheinungsbild der Anwendung anpassen:</p>
                    <ul>
                        <li><strong>Farbschema:</strong> WÃ¤hlen Sie zwischen "Standard (Hell)", "Dunkel", "Hoher Kontrast" und "Farbig". Bei "Farbig" kÃ¶nnen Sie die Farben der Hauptbereiche selbst festlegen.</li>
                        <li><strong>SchriftgrÃ¶ÃŸe:</strong> Passen Sie die SchriftgrÃ¶ÃŸe mit dem Schieberegler an Ihre Lesegewohnheiten an.</li>
                    </ul>
                    <p>Ihre Einstellungen werden automatisch im Browser gespeichert.</p>

                    <h3 style={{marginTop: '2rem', borderTop: '1px solid var(--border-color)', paddingTop: '1rem'}}>Daten zurÃ¼cksetzen & Testen</h3>
                    <p>Die folgenden Aktionen sind nÃ¼tzlich, um die Anwendung zu testen oder komplett neu zu beginnen. <strong>Achtung: Diese Aktionen kÃ¶nnen nicht rÃ¼ckgÃ¤ngig gemacht werden.</strong></p>
                     <div style={{ display: 'flex', gap: '1rem', marginTop: '1rem', flexWrap: 'wrap' }}>
                        <button type="button" className="btn btn-primary" onClick={onLoadSampleData}>
                           ğŸ“Š Beispieldatensatz laden
                        </button>
                        <button type="button" className="btn btn-secondary" onClick={onDownloadSampleData}>
                           ğŸ’¾ Beispieldaten herunterladen
                        </button>
                        <button type="button" className="btn btn-danger" onClick={onClearAllData}>
                           ğŸ—‘ï¸ Alle Daten lÃ¶schen
                        </button>
                    </div>
                </div>
                <div className="modal-actions">
                    <button type="button" className="btn btn-primary" onClick={onClose}>âœ”ï¸ SchlieÃŸen</button>
                </div>
            </div>
        </div>
    );
};

export default HelpModal;
